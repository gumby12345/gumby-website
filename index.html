<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>gumby's house</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preload" as="audio" href="audio/click.mp3" type="audio/mpeg">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
</head>
<body>
  <main>
    <section class="gallery">
      <img id="image1" src="images/GUMBYWEBFIXED1.webp" alt="Main Image">
    </section>

    <div class="toggle-container">
      <button id="btnB" class="active">Client Work</button>
      <button id="btnA">Archive</button>
      <button id="btnC">Sorcerer</button>
    </div>

    <section class="grid-container hidden" id="galleryA">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463046/14_copy_fzicdn.webp" alt="Art 1">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463039/15_copy_hyweql.webp" alt="Art 2">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463045/44_copy_hu8zmo.webp" alt="Art 3">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463040/38_copy_qnaapm.webp" alt="Art 4">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463039/13_copy_kyfwhn.webp" alt="Art 5">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462619/43_copy_abwrna.webp" alt="Art 6">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462607/6_copy_qvcbyk.webp" alt="Art 7">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462606/5_copy_gnifqv.webp" alt="Art 8">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462606/4_copy_yaao0i.webp" alt="Art 9">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462606/3_copy_nmduyt.webp" alt="Art 10">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462610/24_copy_cnfyjb.webp" alt="Art 11">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463034/12_copy_rvsze2.webp" alt="Art 12">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463036/17_copy_fpycju.webp" alt="Art 13">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462608/16_copy_dggeey.webp" alt="Art 14">
    </section>

    <section class="grid-container" id="galleryB">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463031/60_copy_czl80x.webp" alt="Client Art 1">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463037/36_copy_c2iuej.webp" alt="Client Art 2">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462610/23_copy_sdfjzy.webp" alt="Client Art 3">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462615/35_copy_fexzdd.webp" alt="Client Art 4">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462618/37_copy_sunzit.webp" alt="Client Art 5">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462614/32_copy_ibslge.webp" alt="Client Art 6">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462614/31_copy_b4mcrd.webp" alt="Client Art 7">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462611/27_copy_acm87v.webp" alt="Client Art 8">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462619/42_copy_udemeu.webp" alt="Client Art 9">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462619/41_copy_qzbeh4.webp" alt="Client Art 10">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463039/29_copy_lq2ayq.webp" alt="Client Art 11">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462618/39_copy_yw8iui.webp" alt="Client Art 12">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462613/30_copy_us8d12.webp" alt="Client Art 13">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462615/33_copy_vtisjo.webp" alt="Client Art 14">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462614/34_copy_ioavbn.webp" alt="Client Art 15">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462613/28_copy_oormxs.webp" alt="Client Art 16">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462611/26_copy_cp9u94.webp" alt="Client Art 17">
      <a href="https://letterboxd.com/film/dinner-party-2/" target="_blank">
        <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463066/7_copy_x14ri9.webp" alt="Client Art 18">
      </a>
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462607/8_copy_w2phvp.webp" alt="Client Art 19">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462609/22_copy_bsic0v.webp" alt="Client Art 20">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462609/21_copy_sg1fib.webp" alt="Client Art 21">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462609/20_copy_ej4bax.webp" alt="Client Art 22">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462608/18_copy_y9qhxr.webp" alt="Client Art 23">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462608/19_copy_dx8kpo.webp" alt="Client Art 24">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462610/25_copy_gfydv9.webp" alt="Client Art 25">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462607/10_copy_pks0r7.webp" alt="Client Art 26">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462607/9_copy_pirqto.webp" alt="Client Art 27">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462618/40_copy_sw3zpv.webp" alt="Client Art 28">
      <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462605/1_copy_mukuoa.webp" alt="Client Art 29">
    </section>

    <section class="grid-container hidden" id="galleryC">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771465174/SORCERERFINALFUCKINGFINALTRANS_mr0ll6.png" alt="Sorcerer 1" class="middle">

  <!-- Remaining Sorcerer images -->
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771465124/45_fg4q5u.webp" alt="Sorcerer 2">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462640/47_copy_jylndf.webp" alt="Sorcerer 3">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462620/46_copy_lo7gy0.webp" alt="Sorcerer 4">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462728/52_copy_sgrxyr.webp" alt="Sorcerer 5">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462727/51_copy_aj7n6z.webp" alt="Sorcerer 6">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462971/56_copy_bzfp2z.webp" alt="Sorcerer 7">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462977/58_copy_emzolw.webp" alt="Sorcerer 8">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771463017/59_copy_ktx8s4.webp" alt="Sorcerer 9">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462679/48_copy_cdxvsr.webp" alt="Sorcerer 10">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462727/53_copy_yzkohe.webp" alt="Sorcerer 11">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462972/57_copy_plo03e.webp" alt="Sorcerer 12">
  <img src="https://res.cloudinary.com/dygnzamj3/image/upload/v1771462727/49_copy_ka8hav.webp" alt="Sorcerer 13">
</section>
      
      
    </section>

    <a href="https://www.instagram.com/gumb_y/" target="_blank" id="instagram-link">
      <img id="instagram-icon" src="images/instagram.webp" alt="Instagram">
    </a>
  </main>

  <script>
    function shuffleGallery(galleryId) {
      const gallery = document.getElementById(galleryId);
      const items = Array.from(gallery.children);
      for (let i = items.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [items[i], items[j]] = [items[j], items[i]];
      }
      items.forEach(item => gallery.appendChild(item));
    }

    document.addEventListener("DOMContentLoaded", () => {
      if (/Mac/i.test(navigator.platform)) document.body.classList.add("macOS");
      shuffleGallery('galleryB');

      // Add fallback for broken images in all galleries & main
      const allImages = document.querySelectorAll("img");
      allImages.forEach(img => {
        img.onerror = () => {
          img.onerror = null;
          img.src = "images/GUMBYWEBFIXED1.png";
        };
      });
    });

    const imageElement = document.getElementById("image1");

    const btnA = document.getElementById("btnA");
    const btnB = document.getElementById("btnB");
    const btnC = document.getElementById("btnC");
    const galleryA = document.getElementById("galleryA");
    const galleryB = document.getElementById("galleryB");
    const galleryC = document.getElementById("galleryC");
    const instagramLink = document.getElementById("instagram-link");

    const clickSound = new Audio("audio/click.mp3");
    const instagramSound = new Audio("audio/instagramsound.mp3");

    btnA.addEventListener("click", () => {
      galleryA.classList.remove("hidden");
      galleryB.classList.add("hidden");
      galleryC.classList.add("hidden");
      btnA.classList.add("active");
      btnB.classList.remove("active");
      btnC.classList.remove("active");
      clickSound.play();
    });

    btnB.addEventListener("click", () => {
      galleryB.classList.remove("hidden");
      galleryA.classList.add("hidden");
      galleryC.classList.add("hidden");
      btnB.classList.add("active");
      btnA.classList.remove("active");
      btnC.classList.remove("active");
      clickSound.play();
    });

    btnC.addEventListener("click", () => {
      galleryC.classList.remove("hidden");
      galleryA.classList.add("hidden");
      galleryB.classList.add("hidden");
      btnC.classList.add("active");
      btnA.classList.remove("active");
      btnB.classList.remove("active");
      clickSound.play();
    });

    const images = [
      "images/GUMBYWEBFIXED1.webp", "images/GUMBYWEBFIXED2.webp", "images/GUMBYLOGO3.webp",
      "images/GUMBYLOGO4.webp", "images/GUMBYLOGO2-.webp", "images/GUMBYLOGO5.webp", 
      "images/GUMBYLOGO6.webp", "images/GUMBYLOGO7.webp", "images/GUMBYLOGO8.webp",
      "images/GUMBYLOGO9.webp", "images/GUMBYLOGO10.webp", "images/GUMBYLOGO11.webp",
      "images/GUMBYLOGO12.webp", "images/GUMBYLOGO13.webp", "images/GUMBYLOGO14.webp",
      "images/GUMBYLOGO15.webp", "images/GUMBYLOGO16.webp", "images/GUMBYLOGO17.webp",
      "images/GUMBYLOGO18.webp", "images/GUMBYLOGO19.webp", "images/GUMBYLOGO20.webp",
      "images/GUMBYLOGO21.webp", "images/GUMBYLOGO22.webp", "images/GUMBYLOGO23.webp",
      "images/GUMBYLOGO24.webp", "images/GUMBYLOGO25.webp", "images/GUMBYLOGO26.webp",
      "images/GUMBYLOGO27.webp", "images/GUMBYLOGO28.webp"
    ];

    const sounds = Array.from({ length: 120 }, (_, i) => `audio/sound${i + 1}.mp3`);
    let shownImages = [];
    let shownSounds = [];

    function getRandomItem(items, shownItems) {
      const remaining = items.filter(item => !shownItems.includes(item));
      if (!remaining.length) shownItems.length = 0;
      const item = remaining[Math.floor(Math.random() * remaining.length)];
      shownItems.push(item);
      return item;
    }

    imageElement.addEventListener("click", () => {
      const newImage = getRandomItem(images, shownImages);
      imageElement.src = newImage;
      // Safety fallback if random image fails
      imageElement.onerror = () => {
        imageElement.onerror = null;
        imageElement.src = "images/GUMBYWEBFIXED1.png";
      };
      new Audio(getRandomItem(sounds, shownSounds)).play();
      stopJiggle();
    });

    let jiggleTimer;
    let growTimeout;

    function startJiggle() {
      imageElement.classList.add("jiggling");
      imageElement.style.transform = "scale(1.05)";
    }

    function stopJiggle() {
      imageElement.classList.remove("jiggling");
      imageElement.style.transform = "scale(1)";
      clearTimeout(growTimeout);
      resetInactivityTimer();
    }

    function resetInactivityTimer() {
      clearTimeout(jiggleTimer);
      jiggleTimer = setTimeout(() => {
        startJiggle();
        growTimeout = setTimeout(() => {
          imageElement.style.transform = "scale(1.25)";
        }, 30000);
      }, 15000);
    }

    document.body.addEventListener("click", resetInactivityTimer);

    instagramLink.addEventListener("click", (e) => {
      e.preventDefault();
      instagramSound.play();
      setTimeout(() => {
        window.open("https://www.instagram.com/gumb_y/", "_blank");
      }, 500);
    });

    resetInactivityTimer();
  </script>
</body>
</html>
