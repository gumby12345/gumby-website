
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>gumby's house</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preload" as="audio" href="audio/click.mp3" type="audio/mpeg">
  <link rel="icon" href="images/favicon.ico" type="image/x-icon"> <!-- Favicon Link -->
</head>
<body>
  <main>
    <section class="gallery">
      <img id="image1" src="images/GUMBYWEBFIXED1.png" alt="Main Image">
    </section>

    <div class="toggle-container">
      <button id="btnA" class="active">Personal Work</button>
      <button id="btnB">Client Work</button>
    </div>

    <section class="grid-container" id="galleryA">
      <!-- Gallery A images -->
      <img src="https://gumby.x02.me/i/XMZ5.png" alt="Art 1">
      <img src="https://gumby.x02.me/i/WDB9TQ.png" alt="Art 2">
      <img src="https://gumby.x02.me/i/JK5V.png" alt="Art 3">
      <img src="https://gumby.x02.me/i/F53ZR8.png" alt="Art 4">
      <img src="https://gumby.x02.me/i/2CGTXF.png" alt="Art 5">
      <img src="https://gumby.x02.me/i/JFJFA.png" alt="Art 6">
      <img src="https://gumby.x02.me/i/MSVW.png" alt="Art 7">
      <img src="https://gumby.x02.me/i/TF5NDQ.png" alt="Art 8">
      <img src="https://gumby.x02.me/i/HX7R8.png" alt="Art 9">
      <img src="https://gumby.x02.me/i/FUJZCQ.png" alt="Art 10">
      <img src="https://gumby.x02.me/i/VKGKF.png" alt="Art 11">
      <img src="https://gumby.x02.me/i/6BMXG3.png" alt="Art 12">
      <img src="https://gumby.x02.me/i/RCNZ.png" alt="Art 13">
    </section>

<section class="grid-container hidden" id="galleryB">
  <!-- Gallery B images -->
  <img src="https://gumby.x02.me/i/JKRB3B.png" alt="Client Art 1">
  <img src="https://gumby.x02.me/i/QXAC25.png" alt="Client Art 2">
  <img src="https://gumby.x02.me/i/B4JUM.png" alt="Client Art 4">
  <img src="https://gumby.x02.me/i/F9GR.png" alt="Client Art 5">
  <img src="https://gumby.x02.me/i/HG399U.png" alt="Client Art 6">
  <img src="https://gumby.x02.me/i/4CEP.png" alt="Client Art 7">
  <img src="https://gumby.x02.me/i/WGJE4.png" alt="Client Art 8">
  <img src="https://gumby.x02.me/i/2SNFW7.png" alt="Client Art 9">
  <img src="https://gumby.x02.me/i/4ZHV.png" alt="Client Art 10">
  <img src="https://gumby.x02.me/i/VG22.png" alt="Client Art 11">
  <img src="https://gumby.x02.me/i/H6EYTM.png" alt="Client Art 12">
  <img src="https://gumby.x02.me/i/Z9CAB.png" alt="Client Art 13">
  <img src="https://gumby.x02.me/i/7EZJR.png" alt="Client Art 14">
  <img src="https://gumby.x02.me/i/7UNVA4.png" alt="Client Art 15"> 
  <img src="https://gumby.x02.me/i/ZQ43.png" alt="Client Art 16">
  <img src="https://gumby.x02.me/i/NMRA7X.png" alt="Client Art 17">

  <a href="https://letterboxd.com/film/dinner-party-2/" target="_blank">
    <img src="https://gumby.x02.me/i/K325RT.webp" alt="Client Art 18">
  </a>

  <img src="https://gumby.x02.me/i/TX69U9.png" alt="Client Art 19">
  <img src="https://gumby.x02.me/i/MBR9Q.png" alt="Client Art 20">
  <img src="https://gumby.x02.me/i/Y5A738.png" alt="Client Art 21">
  <img src="https://gumby.x02.me/i/MZ3B3V.png" alt="Client Art 22">
  <img src="https://gumby.x02.me/i/E67GQ.png" alt="Client Art 23">
  <img src="https://gumby.x02.me/i/8VUMNR.png" alt="Client Art 24">
  <img src="https://gumby.x02.me/i/MYYR9.png" alt="Client Art 25">
  <img src="https://gumby.x02.me/i/B53H.png" alt="Client Art 26">
  <img src="https://gumby.x02.me/i/JH2SRG.png" alt="Client Art 27">
  <img src="https://gumby.x02.me/i/QKRAG.png" alt="Client Art 28">
</section>


    <!-- Instagram Icon -->
    <a href="https://www.instagram.com/gumb_y/" target="_blank" id="instagram-link">
      <img id="instagram-icon" src="images/instagram.webp" alt="Instagram">
    </a>
  </main>

  <script>
    function shuffleGallery(galleryId) {
      const gallery = document.getElementById(galleryId);
      const items = Array.from(gallery.children);
      for (let i = items.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [items[i], items[j]] = [items[j], items[i]];
      }
      items.forEach(item => gallery.appendChild(item));
    }

    document.addEventListener("DOMContentLoaded", () => {
      if (/Mac/i.test(navigator.platform)) {
        document.body.classList.add("macOS");
      }

      shuffleGallery('galleryB');
    });

    const imageElement = document.getElementById("image1");
    const btnA = document.getElementById("btnA");
    const btnB = document.getElementById("btnB");
    const galleryA = document.getElementById("galleryA");
    const galleryB = document.getElementById("galleryB");
    const instagramIcon = document.getElementById("instagram-icon");

    const clickSound = new Audio("audio/click.mp3");
    const instagramSound = new Audio("audio/instagramsound.mp3");

    const images = [
      "images/GUMBYWEBFIXED1.webp", 
      "images/GUMBYWEBFIXED2.webp", 
      "images/GUMBYLOGO3.webp",
      "images/GUMBYLOGO4.webp", 
      "images/GUMBYLOGO2-.webp", 
      "images/GUMBYLOGO5.webp", 
      "images/GUMBYLOGO6.webp", 
      "images/GUMBYLOGO7.webp", 
      "images/GUMBYLOGO8.webp",
      "images/GUMBYLOGO9.webp", 
      "images/GUMBYLOGO10.webp", 
      "images/GUMBYLOGO11.webp",
      "images/GUMBYLOGO12.webp", 
      "images/GUMBYLOGO13.webp", 
      "images/GUMBYLOGO14.webp",
      "images/GUMBYLOGO15.webp", 
      "images/GUMBYLOGO16.webp", 
      "images/GUMBYLOGO17.webp",
      "images/GUMBYLOGO18.webp",
      "images/GUMBYLOGO19.webp",
      "images/GUMBYLOGO20.webp",
      "images/GUMBYLOGO21.webp",
      "images/GUMBYLOGO22.webp",
      "images/GUMBYLOGO23.webp",
      "images/GUMBYLOGO24.webp",
      "images/GUMBYLOGO25.webp",
      "images/GUMBYLOGO26.webp",
      "images/GUMBYLOGO27.webp",
      "images/GUMBYLOGO28.webp"
    ];

    const sounds = Array.from({ length: 120 }, (_, i) => `audio/sound${i + 1}.mp3`);

    let shownImages = [];
    let shownSounds = [];

  function getRandomItem(items, shownItems) {
    const weights = items.map(item => item.includes("GUMBYLOGO28.webp") ? 0.02 : 1);
    const remaining = items.filter(item => !shownItems.includes(item));
    if (remaining.length === 0) shownItems.length = 0; // Reset when all items have been shown.

    const remainingWeights = remaining.map(item => weights[items.indexOf(item)]);
    const totalWeight = remainingWeights.reduce((sum, weight) => sum + weight, 0);
    const normalizedWeights = remainingWeights.map(weight => weight / totalWeight);

    let cumulativeWeight = 0;
    const random = Math.random();
    for (let i = 0; i < remaining.length; i++) {
      cumulativeWeight += normalizedWeights[i];
      if (random < cumulativeWeight) {
        shownItems.push(remaining[i]);
        return remaining[i];
      }
    }
  }

    // Toggle buttons
    btnA.addEventListener("click", () => {
      galleryA.classList.remove("hidden");
      galleryB.classList.add("hidden");
      btnA.classList.add("active");
      btnB.classList.remove("active");
      clickSound.play();
    });

    btnB.addEventListener("click", () => {
      galleryB.classList.remove("hidden");
      galleryA.classList.add("hidden");
      btnB.classList.add("active");
      btnA.classList.remove("active");
      clickSound.play();
    });

     // Main image click logic
  imageElement.addEventListener("click", () => {
    const newImage = getRandomItem(images, shownImages);
    imageElement.src = newImage;

    imageElement.onerror = function() {
      console.error(`Error loading image: ${newImage}. Falling back to default image.`);
      imageElement.src = "images/GUMBYWEBFIXED1.png";
    };

    new Audio(getRandomItem(sounds, shownSounds)).play();
    stopJiggle();
  });

    let jiggleTimer;
    let growTimeout;

    function startJiggle() {
      imageElement.classList.add("jiggling");
      imageElement.style.transform = "scale(1.05)";
    }

    function stopJiggle() {
      imageElement.classList.remove("jiggling");
      imageElement.style.transform = "scale(1)";
      clearTimeout(growTimeout);
      resetInactivityTimer();
    }

    function resetInactivityTimer() {
      clearTimeout(jiggleTimer);
      jiggleTimer = setTimeout(() => {
        startJiggle();
        growTimeout = setTimeout(() => {
          imageElement.style.transform = "scale(1.25)";
        }, 30000);
      }, 15000);
    }

    const instagramLink = document.getElementById("instagram-link");
    instagramLink.addEventListener("click", (e) => {
      e.preventDefault();
      instagramSound.play();
      setTimeout(() => {
        window.open("https://www.instagram.com/gumb_y/", "_blank");
      }, 500);
    });

    resetInactivityTimer();
    document.body.addEventListener("click", resetInactivityTimer);
  </script>
</body>
</html>
